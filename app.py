#!/usr/bin/env python
# coding: utf-8

# In[1]:


import numpy as np
import streamlit as st
import pandas as pd
import joblib
from xgboost import XGBClassifier


st.header("Hemodynamic Deterioration App for moderate-risk PE in ICU")
st.write("This is a web APP for identifying patients with moderate-risk pulmonary embolism who are predisposed to hemodynamic deterioration in the ICU.")

invasive_line=st.selectbox("invasive_line", ("1", "0"))
hypertension_disease=st.selectbox("hypertension", ("1", "0"))
aki_stages=st.selectbox("aki_stages", ("0", "1","2","3"))
sbp_max=st.sidebar.slider(label = 'sbp_max', min_value = 30.0,
                          max_value = 180.0 ,
                          value = 120.0,
                          step = 1.0)
mbp_mean=st.sidebar.slider(label = 'mbp_mean', min_value = 30.0,
                          max_value = 180.0 ,
                          value = 120.0,
                          step = 1.0)
bicarbonate_min=st.sidebar.slider(label = 'bicarbonate_min', min_value = 0.0,
                          max_value = 40.0 ,
                          value = 12.0,
                          step = 0.5)
dbp_mean=st.sidebar.slider(label = 'dbp_mean', min_value = 30.0,
                          max_value = 180.0 ,
                          value = 120.0,
                          step = 1.0)
temperature_mean=st.sidebar.slider(label = 'temperature_mean', min_value = 33.0,
                          max_value = 43.0 ,
                          value = 37.0,
                          step = 0.1)
aniongap_max=st.sidebar.slider(label = 'aniongap_max', min_value = 0.0,
                          max_value = 40.0 ,
                          value = 20.0,
                          step = 0.5)
urine_output=st.sidebar.slider(label = 'urine_output', min_value = 0.0,
                          max_value = 5000.0 ,
                          value = 2500.0,
                          step = 10.0)


# In[3]:


prob_xgb=np.array([9.96240735e-01, 9.84546423e-01, 9.92114544e-01, 9.79918182e-01,
       9.22788382e-01, 9.71698523e-01, 9.47566807e-01, 8.40970457e-01,
       9.40541506e-01, 9.67596173e-01, 9.68699813e-01, 9.57232356e-01,
       9.13687825e-01, 9.45095062e-01, 9.60849702e-01, 9.60577369e-01,
       9.42721367e-01, 9.82983828e-01, 9.65895116e-01, 9.45846856e-01,
       9.78449404e-01, 7.90839314e-01, 9.81306911e-01, 9.53109801e-01,
       9.61097836e-01, 9.83207226e-01, 9.39423978e-01, 9.51576471e-01,
       9.78596210e-01, 9.79114771e-01, 5.74302971e-01, 9.81765628e-01,
       4.77780163e-01, 9.78822529e-01, 9.31553662e-01, 9.59635198e-01,
       9.66922522e-01, 9.36812937e-01, 9.67270195e-01, 9.04026926e-01,
       3.13793093e-01, 9.83265519e-01, 9.36259210e-01, 2.36469343e-01,
       9.21800435e-01, 7.53100663e-02, 9.58125830e-01, 9.25670564e-01,
       9.34813321e-01, 9.93827879e-01, 9.46650267e-01, 9.55542445e-01,
       9.63904262e-01, 1.81407213e-01, 3.93795818e-02, 1.58926114e-01,
       9.42359388e-01, 9.66963649e-01, 9.67446208e-01, 6.68215007e-02,
       9.74419534e-01, 9.87641692e-01, 2.92127013e-01, 9.50725436e-01,
       9.55141425e-01, 9.44919944e-01, 8.35971534e-01, 9.82657611e-01,
       9.89076257e-01, 9.54747021e-01, 2.09921539e-01, 9.46262002e-01,
       9.88497615e-01, 7.13162899e-01, 9.87157762e-01, 9.74004984e-01,
       9.47330177e-01, 9.49997604e-01, 9.90283132e-01, 9.76329803e-01,
       4.95273978e-01, 9.83324528e-01, 8.99955153e-01, 9.79409039e-01,
       9.78718638e-01, 9.55484927e-01, 1.63509712e-01, 9.70380425e-01,
       9.94218230e-01, 9.47728157e-01, 9.69301879e-01, 9.88860190e-01,
       9.77992594e-01, 9.52875078e-01, 9.40997541e-01, 9.64046896e-01,
       9.59664941e-01, 9.53608811e-01, 9.52847600e-01, 9.72746968e-01,
       9.73973751e-01, 9.68236446e-01, 9.54371333e-01, 9.26290870e-01,
       9.90738988e-01, 6.98781967e-01, 1.52154118e-01, 9.71612513e-01,
       9.46357012e-01, 9.73690093e-01, 9.72720265e-01, 9.31259036e-01,
       9.50219035e-01, 9.92119789e-01, 9.89042699e-01, 9.67266798e-01,
       7.09664643e-01, 9.94678736e-01, 9.82636094e-01, 9.87243950e-01,
       1.23099424e-02, 2.22928785e-02, 1.55141382e-02, 3.74360679e-04,
       1.33135552e-02, 4.51986454e-02, 7.34599382e-02, 6.55998429e-03,
       1.17015734e-01, 2.08264659e-03, 2.71690078e-03, 2.97176205e-02,
       2.14633322e-03, 4.46968526e-02, 2.55618943e-03, 2.32420880e-02,
       2.02291477e-02, 5.37837856e-03, 5.12832263e-03, 2.79847346e-03,
       3.55772697e-03, 2.90705147e-03, 1.60080657e-04, 6.71540445e-04,
       3.29087079e-02, 1.94923542e-02, 1.56033784e-03, 3.21344584e-02,
       2.99675092e-02, 8.91336333e-03, 4.06995416e-02, 4.63005640e-02,
       1.53611111e-03, 7.76128087e-04, 8.72362580e-04, 1.52186919e-02,
       7.12228846e-03, 3.07009532e-03, 1.90020483e-02, 4.55409475e-02,
       8.46191868e-03, 6.55766064e-03, 6.57733157e-03, 5.05046500e-03,
       7.82384872e-02, 1.68804333e-01, 1.33047570e-02, 1.39567666e-02,
       1.08504696e-02, 6.34758035e-03, 7.31870718e-03, 3.41036310e-03,
       1.87551579e-03, 4.99371963e-04, 1.39328182e-01, 1.28233088e-02,
       1.58786529e-03, 2.77736894e-04, 1.85476765e-02, 3.76037449e-01,
       1.99766960e-02, 3.32035944e-02, 3.53945279e-03, 2.80017732e-03,
       2.72601936e-02, 9.25292447e-02, 1.96642382e-03, 5.06311539e-04,
       2.05531403e-01, 4.42560390e-03, 7.71062728e-03, 1.82096940e-02,
       4.57954593e-04, 3.27209122e-02, 5.79855312e-03, 4.96814921e-02,
       1.61022099e-03, 4.38130274e-03, 9.12343897e-03, 1.76692270e-02,
       1.03962393e-02, 2.19290331e-02, 2.84328428e-03, 1.70707738e-03,
       1.05338115e-02, 4.35713306e-03, 2.10145907e-03, 2.15444248e-02,
       2.57879263e-04, 7.73392105e-03, 1.36027550e-02, 1.03443966e-03,
       2.51823943e-02, 1.82466935e-02, 8.52150784e-04, 2.88321953e-02,
       3.53600383e-02, 1.93172670e-03, 1.13522913e-02, 1.16797735e-03,
       1.54392200e-03, 2.04402115e-03, 1.12737250e-02, 4.51985048e-03,
       1.39858434e-03, 3.27455290e-02, 8.46874248e-03, 7.56854715e-04,
       2.00983416e-03, 1.57464482e-02, 3.32793989e-03, 2.96434341e-03,
       1.56972837e-03, 7.99663782e-01, 5.42958155e-02, 7.19542615e-03,
       3.31439893e-03, 2.98558362e-02, 1.76596863e-03, 8.09446163e-03,
       2.55626962e-02, 2.54005729e-03, 1.41985258e-02, 2.82317796e-03,
       2.36658542e-03, 1.50847938e-02, 7.83297122e-02, 3.44765512e-03,
       3.92968245e-02, 9.62189026e-03, 1.93809997e-02, 2.30748400e-01,
       3.58085381e-04, 7.28492215e-02, 6.39662504e-01, 2.21265131e-03,
       1.02363378e-02, 1.20840091e-02, 4.80651930e-02, 1.97368525e-02,
       3.43803992e-03, 5.99975791e-03, 2.42220983e-03, 3.08523178e-02,
       2.35176575e-03, 1.73070887e-03, 1.18543943e-02, 3.93800251e-03,
       1.72099136e-02, 2.53017130e-03, 1.94145396e-04, 1.36206439e-02,
       1.05558708e-02, 6.38633743e-02, 1.55523757e-03, 6.15277886e-03,
       2.19872547e-03, 9.03866366e-02, 1.24203516e-02, 2.99267843e-02,
       3.43142152e-02, 2.81645637e-03, 6.32454176e-04, 2.34119303e-04,
       3.33872950e-03, 2.88926791e-02, 1.58242788e-02, 9.78962169e-04,
       1.13832233e-02, 1.86126737e-03, 3.79417441e-03, 3.56901297e-03,
       2.57396065e-02, 4.11053840e-03, 1.45802842e-02, 2.41215248e-02,
       6.05612108e-03, 9.26045980e-03, 7.74525478e-03, 1.12448046e-02,
       1.53458118e-03, 1.77038796e-02, 5.50516089e-03, 8.01936816e-03,
       9.29060206e-03, 5.47438800e-01, 3.82184866e-03, 2.42391396e-02,
       3.57061950e-03, 6.56342192e-04, 1.80293564e-02, 7.26070926e-02,
       8.03290308e-03, 6.69898465e-03, 3.21843126e-03, 3.02187018e-02,
       1.52724865e-03, 1.44627085e-02, 6.42695581e-04, 1.85315423e-02,
       1.86262710e-04, 4.49596322e-04, 3.86315468e-03, 2.62574196e-01,
       2.02030465e-02, 3.57574318e-03, 1.86007377e-02, 9.42107916e-01,
       4.29825531e-03, 7.45197246e-03, 2.92018037e-02, 6.98480196e-03,
       2.51651108e-02, 1.63998101e-02, 4.69418652e-02, 1.14755461e-03,
       1.83863733e-02, 3.13560036e-03, 7.74667272e-03, 8.70883185e-03,
       1.22424378e-03, 1.40604731e-02, 5.51306643e-02, 2.16426793e-02,
       1.65463355e-03, 7.24915881e-03, 6.12839870e-03, 1.22750038e-02,
       1.73372068e-02, 1.50516536e-02, 1.00555574e-03, 4.89687896e-04,
       2.68660311e-04, 1.20218294e-02, 5.28408098e-04, 4.58438182e-03,
       2.05094308e-01, 3.62375900e-02, 3.31139177e-01, 2.86772172e-03,
       9.68539178e-01, 1.18856747e-02, 1.04061491e-03, 9.00495946e-02,
       7.87752273e-04, 3.75336083e-03, 8.15307815e-03, 4.87293582e-03,
       8.96325484e-02, 5.57168238e-02, 2.12124852e-03, 1.32375192e-02,
       3.51131125e-03, 2.18746136e-03, 3.22130881e-02, 3.01808063e-02,
       3.12534161e-02, 9.49393900e-04, 1.03545301e-02, 1.15525581e-01,
       6.82450412e-03, 2.27865223e-02, 5.12790913e-03, 3.69139314e-02,
       6.16613701e-02, 7.92320119e-04, 9.71431844e-03, 4.67806570e-02,
       1.04192283e-03, 2.57314239e-02, 1.54503472e-02, 8.09543766e-04,
       2.53041666e-02, 5.57380868e-03, 2.19905674e-02, 6.25861883e-01,
       4.69570421e-02, 9.58298612e-03, 1.12004792e-02, 7.11127147e-02,
       2.51731351e-02, 2.55162711e-03, 1.85209571e-03, 3.42544401e-03,
       4.82272267e-01, 5.95742762e-02, 5.42999664e-03, 1.49575574e-02,
       6.80227578e-03, 1.75754596e-02, 1.77257191e-02, 7.50236074e-03,
       3.64611000e-02, 5.16049638e-02, 2.60206964e-02, 1.36471903e-02,
       5.41224936e-03, 2.04788335e-03, 2.31240392e-01, 7.16732023e-03,
       1.88785344e-02, 1.53181320e-02, 1.98145583e-03, 9.39157978e-02,
       3.26179143e-04, 2.89680465e-04, 1.63656082e-02, 1.17620528e-02,
       2.90494841e-02, 3.56037244e-02, 1.57660013e-03, 1.38944723e-02,
       4.44716774e-03, 1.09151183e-02, 4.23362525e-03, 6.09803572e-02,
       1.93857998e-02, 5.14286309e-02, 5.18920869e-02, 1.03464946e-02,
       5.74529208e-02, 3.50807756e-02, 7.50846695e-03, 8.23339168e-03,
       7.84626137e-03, 1.31168461e-03, 1.26962261e-02, 4.41048807e-03,
       1.21665252e-02, 1.98932420e-02, 4.55915974e-03, 4.15479131e-02,
       1.07631618e-02, 5.21537475e-02, 2.09832937e-02, 1.01023434e-04,
       5.19798040e-01, 5.16110025e-02, 1.63367335e-02, 2.17156857e-02,
       1.11967640e-03, 2.93408036e-02, 8.23042765e-02, 1.06827007e-03,
       7.61291608e-02, 3.00864540e-02, 2.65437663e-02, 5.81379272e-02,
       9.58191871e-04, 2.32648421e-02, 7.87472818e-03, 2.45546028e-02,
       5.03574759e-02, 3.04522306e-01, 1.09962318e-02, 4.43354016e-03,
       7.70913810e-02, 2.58627832e-02, 3.87160480e-02, 1.82057999e-03,
       1.77869375e-03, 4.33507375e-03, 3.73755535e-03, 5.53672500e-02,
       8.68393388e-03, 5.26619237e-03, 1.42357349e-02, 3.50367138e-03,
       8.27927947e-01, 2.01113503e-02, 2.97957268e-02, 2.87768175e-03,
       6.01254031e-03, 1.42131634e-02, 1.46307582e-02, 1.05565251e-03,
       1.63937956e-02, 2.06692331e-03, 4.86616343e-02, 6.97044004e-03,
       8.59481006e-05, 8.45564809e-03, 5.48862889e-02, 7.78190885e-03,
       6.81702048e-02, 6.03998266e-03, 1.73016749e-02, 8.23484436e-02,
       4.23999168e-02, 3.79327359e-03, 1.12750595e-02, 2.26855744e-02,
       2.35001883e-03, 4.32479717e-02, 2.91886926e-03, 1.61980244e-03,
       2.96206847e-02, 2.85672657e-02, 1.74788223e-03, 4.56194282e-02,
       1.16437664e-02, 2.41674506e-03, 1.18759563e-02, 5.01096668e-03,
       1.15958257e-02, 8.60421479e-01, 3.76839042e-02, 3.68454494e-03,
       8.90337378e-02, 1.28159951e-02, 2.05153177e-04, 1.33766085e-02,
       9.95306671e-03, 6.79406978e-04, 2.91099194e-02, 3.88951669e-03,
       4.49596830e-02, 4.20844601e-03, 1.34916953e-03, 2.62139756e-02,
       1.00328667e-04, 1.18209265e-01, 1.95729770e-02, 2.02778960e-03,
       4.43606637e-03, 2.47621181e-04, 2.05135439e-03, 1.29445530e-02,
       6.35729283e-02, 1.61981210e-02, 6.30007358e-03, 8.17588717e-03,
       2.91700661e-02, 7.58193284e-02, 2.72683240e-02, 2.38267649e-02,
       1.93465184e-02, 1.03622337e-03, 4.60246913e-02, 2.53841728e-02,
       2.62563135e-02, 1.15070934e-03, 1.66167393e-02, 7.30002718e-03,
       1.26678275e-03, 5.28023243e-02, 1.20352477e-01, 6.24963939e-02,
       5.56431757e-03, 7.95433880e-04, 3.88083644e-02, 8.76787364e-01,
       1.00687481e-02, 4.20826823e-02, 5.51895536e-02, 3.79775614e-02,
       2.87219067e-03, 7.37123549e-01, 2.62716357e-02, 3.77742248e-03,
       1.46318655e-02, 3.39577124e-02, 1.23571316e-02, 1.26002459e-02,
       1.87652849e-03, 1.02343049e-03, 2.32288716e-04, 1.54530667e-02,
       1.15854258e-03, 3.67531925e-03, 4.98491339e-02, 2.41033025e-02,
       6.05791248e-03, 6.26794249e-03, 7.13426899e-03, 1.62274577e-02,
       2.15949235e-03, 8.88410956e-03, 9.53180436e-03, 1.79291368e-02,
       1.54995359e-02, 2.66849920e-02, 8.31193873e-04, 6.26838487e-03,
       9.49670374e-02, 1.23792365e-02, 1.07462972e-03, 7.11827353e-02,
       2.74300086e-03, 1.63948819e-01, 1.69666745e-02, 1.33030545e-02,
       5.60536794e-02, 4.82857600e-03, 1.34791322e-02, 3.64957773e-03,
       4.61988561e-02, 6.71432074e-03, 1.47211701e-02, 2.31014956e-02,
       3.82594834e-03, 6.09813607e-04, 3.83697115e-02, 1.94032516e-04,
       1.20687457e-02, 1.06935762e-02, 6.89022690e-02, 9.16918293e-02,
       1.98401418e-02, 2.32683554e-01, 2.22294796e-02, 1.55708659e-02,
       4.39920230e-03, 5.26107708e-03, 5.69808576e-03, 9.31493100e-03,
       5.29685080e-01, 3.13248076e-02, 1.10763067e-03, 3.85657921e-02,
       2.16099247e-02, 1.80317853e-02, 5.23867039e-03, 5.50214276e-02,
       8.17504749e-02, 1.57982204e-02, 4.52026762e-02, 3.63720506e-02,
       5.16323559e-02, 1.59082208e-02, 1.22163175e-02, 3.13233472e-02,
       1.96349947e-03, 2.98800785e-03, 5.70364064e-03, 6.48165063e-04,
       1.46863814e-02, 4.45991382e-02, 1.44021269e-02, 3.78491916e-02,
       5.36246412e-03, 4.08647629e-03, 1.79475860e-03, 2.76239842e-01,
       4.18718308e-02, 1.58554483e-02, 3.87380533e-02, 1.13865137e-02,
       3.48192006e-02, 6.01879554e-03, 1.64370332e-02, 1.72740340e-01,
       3.27736177e-02, 3.33217345e-03, 1.57133525e-03, 3.73187452e-03,
       3.84357339e-03, 1.82556582e-03, 2.75885663e-03, 2.74506453e-02,
       4.78122421e-02, 1.90761983e-02, 9.38927904e-02, 5.92367165e-03,
       6.21738425e-03, 2.30604075e-02, 1.53645710e-03, 1.19268731e-03,
       7.28717353e-03, 4.05492494e-03, 4.51231003e-02, 1.57098810e-03,
       7.79779814e-03, 3.81483696e-02, 8.22835714e-02, 5.19654388e-03,
       6.00859197e-03, 2.85846256e-02, 6.34902045e-02, 3.43370205e-03,
       1.64732418e-03, 1.05986632e-02, 7.28392834e-03, 4.22833830e-01])


# In[5]:




# In[12]:


y=np.array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])


# In[8]:



from sklearn.isotonic import IsotonicRegression


# In[14]:


Iso=IsotonicRegression(y_min=0,y_max=1,out_of_bounds='clip')
Iso.fit(prob_xgb,y)


# In[15]:



# In[9]:


if st.button("Submit"):
    
    # Unpickle classifier
    clf = joblib.load(open("model.pkl", "rb"))
    
    # Store inputs into dataframe
    X = pd.DataFrame([[invasive_line,hypertension_disease, aki_stages,sbp_max,mbp_mean,bicarbonate_min,dbp_mean,temperature_mean,aniongap_max,urine_output]], 
                     columns = ['invasive_line','hypertension_disease', 'aki_stages','sbp_max','mbp_mean','bicarbonate_min','dbp_mean','temperature_mean','aniongap_max','urine_output'])
    X[['invasive_line', 'hypertension_disease','aki_stages']] = X[['invasive_line', 'hypertension_disease','aki_stages']].astype('int64')
    # Get prediction
    X2=clf.predict_proba(X)[:, 1]
    print(X2)
    prediction =Iso.predict(X2)
    
    # Output prediction
    st.text(f"The probability of hemodynamic deterioration is as high as {prediction}")

